
<html lang="en">
<body></body>
<head></head>
    <!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="./static/styles/timeline.css">
<div class="form" id="form">
    <div class="title">Welcome</div>
    <div class="subtitle">Make a Post</div>
    <div class="input-container ic1">
      <input id="firstname" class="input" type="text" name="name" required/>
      <div class="cut"></div>
      <label for="firstname" class="placeholder">Name</label>
    </div>
    <div class="input-container ic2">
      <input id="email" class="input" type="text" name="email" required/>
      <div class="cut"></div>
      <label for="email" class="placeholder">Email</label>
    </div>
    <div class="input-container ic2">
      <textarea id="text" class="input" type="text" name="content" required></textarea>
      <div class="cut cut-short"></div>
      <label for="text" class="placeholder">Text</label>
    </div>
    <button type="submit" class="submit">Submit</button>
  </div>
  
<div class="posts">
    {% for post in posts %}
    <div class="subtitle"> {{post}}</div>
    {% endfor %}
</div>

<script>
    const form = document.getElementById('form');
    form.addEventListener('submit', function(e) {
        console.log("Submitted")
        e.preventDefault();
        const formData = new FormData(form);
        const payload = new URLSearchParams(formData);
        fetch('/api/timeline_post', {
        method: 'POST',
        body: payload,
        })
        .then(res => res.json())
        .then(data => console.log(data))
    })
</script>
</html>